helm repo add haproxytech https://haproxytech.github.io/helm-charts
helm repo update


helm install haproxy-kubernetes-ingress haproxytech/kubernetes-ingress \
  --create-namespace \
  --namespace haproxy-controller


kubectl get service haproxy-kubernetes-ingress --namespace haproxy-controller








Install with preset NodePort values 

By default, the ingress controller creates a Kubernetes service that assigns random NodePort ports. 

In the example below, the ingress controller listens on port 30706 for HTTP traffic and 30675 for HTTPS traffic. Port 31441 publishes the HAProxy Stats page.

kubectl get service haproxy-kubernetes-ingress --namespace haproxy-controller





$ kubectl get service haproxy-kubernetes-ingress --namespace haproxy-controller
NAME                         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                                     AGE
haproxy-kubernetes-ingress   NodePort    10.97.154.7      <none>        80:30706/TCP,443:30675/TCP,1024:31441/TCP   32s
$



curl -H "Host: myapp.example.com" http://localhost:30706 --resolve myapp.example.com:31762:127.0.0.1


$ curl -H "Host: myapp.example.com" http://localhost:30706 --resolve myapp.example.com:31762:127.0.0.1
Hello, world!
Version: 1.0.0
Hostname: helloapp1-c444c7dc7-nrq5j
$




curl -H "Host: myapp.example.com" http://localhost:30706

$ curl -H "Host: myapp.example.com" http://localhost:30706
Hello, world!
Version: 1.0.0
Hostname: helloapp1-c444c7dc7-ldc22
$




$ curl -v --resolve myapp.example.com:31762:127.0.0.1 http://myapp.example.com:31762
* Added myapp.example.com:31762:127.0.0.1 to DNS cache
* Hostname myapp.example.com was found in DNS cache
*   Trying 127.0.0.1:31762...
* Connected to myapp.example.com (127.0.0.1) port 31762
> GET / HTTP/1.1
> Host: myapp.example.com:31762
> User-Agent: curl/8.7.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 200 OK
< date: Wed, 04 Feb 2026 07:34:15 GMT
< content-length: 65
< content-type: text/plain; charset=utf-8
<
Hello, world!
Version: 1.0.0
Hostname: helloapp1-c444c7dc7-ldc22
* Connection #0 to host myapp.example.com left intact
$





You can choose specific NodePort ports instead by setting the controller.service.nodePort.http, controller.service.nodePort.https, and controller.service.nodePort.stat Helm chart fields.

helm install haproxy-kubernetes-ingress haproxytech/kubernetes-ingress \
  --create-namespace \
  --namespace haproxy-controller \
  --set controller.service.nodePorts.http=30000 \
  --set controller.service.nodePorts.https=30001 \
  --set controller.service.nodePorts.stat=30002 \
  --set controller.service.nodePorts.prometheus=30003
